<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loja Exemplo — Landing Page</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#071024;color:#e6eef8;padding:24px}
    .btn{background:#06b6d4;border:none;padding:10px 14px;border-radius:8px;color:#061226;cursor:pointer}
  </style>
</head>
<body>

  <header style="display:flex;justify-content:space-between;align-items:center">
    <h1>Loja Exemplo</h1>
    <div>
      <!-- Botão 'Assine' trocado por 'Logar' -->
      <button class="btn" onclick="window.location.href='login.html'">Logar</button>
    </div>
  </header>

  <main style="margin-top:32px;max-width:720px">
    <h2>Assine nossa newsletter</h2>
    <form id="newsletterForm" onsubmit="subscribe(event)" style="display:flex;gap:8px">
      <input id="email" type="email" required placeholder="seu@exemplo.com" style="flex:1;padding:8px;border-radius:6px;border:1px solid #ccc">
      <button class="btn" type="submit">Enviar</button>
    </form>
  </main>

  <!-- Supabase JS (único include) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    // config do seu projeto
    const SUPABASE_URL = 'https://xqsuvwagygwkkugjqgpu.supabase.co';
    const SUPABASE_KEY = 'sb_publishable__lu67DW_OZJ_kbIw_aY3-Q_AI-DQvH1';

    if (!window.supabaseClient) {
      window.supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
    }
    const supabase = window.supabaseClient;

    async function subscribe(e){
      e.preventDefault();
      const email = document.getElementById('email').value.trim();
      if(!email){ alert('Informe um email'); return; }

      const { error } = await supabase
        .from('respostas')
        .insert([{ nome: 'Newsletter', email }]);

      if(error){
        console.error(error);
        alert('Erro ao salvar. Veja console.');
      } else {
        alert('Email salvo com sucesso!');
        e.target.reset();
      }
    }
  </script>
</body>
</html>
